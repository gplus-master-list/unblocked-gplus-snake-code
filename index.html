<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Snake Game - Unblocked GPlus</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; overflow-x: hidden; background: #000; color: #fff; }
        #gameCanvas { display: block; width: 100vw; height: 80vh; }
        #scoreboard { position: fixed; top: 20px; left: 20px; background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); border-radius: 15px; padding: 15px 25px; z-index: 100; }
        #score { font-size: 28px; font-weight: bold; color: #667eea; }
        #gameOverModal { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.8); display: none; justify-content: center; align-items: center; z-index: 1000; }
        #gameOverModal.show { display: flex; }
        .modal-content { background: rgba(255, 255, 255, 0.1); padding: 40px; border-radius: 20px; text-align: center; }
        #restartBtn { background: #667eea; border: none; color: white; padding: 10px 30px; border-radius: 5px; cursor: pointer; font-weight: bold; margin-top: 15px; }
        
        /* Article Section */
        .article-container { max-width: 800px; margin: 20px auto; padding: 20px; background: #111; border-radius: 10px; line-height: 1.6; }
        .backlink-box { text-align: center; margin-bottom: 20px; padding: 15px; border: 2px dashed #667eea; }
        .backlink-box a { color: #667eea; font-weight: bold; text-decoration: none; font-size: 1.2rem; }
        .backlink-box a:hover { text-decoration: underline; }
    </style>
</head>
<body>
    <div id="scoreboard">
        <h2 style="font-size: 12px; opacity: 0.7;">SCORE</h2>
        <div id="score">0</div>
    </div>

    <div id="gameOverModal">
        <div class="modal-content">
            <h1>Game Over</h1>
            <p>Final Score: <span id="finalScore">0</span></p>
            <button id="restartBtn">Play Again</button>
        </div>
    </div>

    <div id="container"></div>

    <div class="article-container">
        <div class="backlink-box">
            <p>Want more fun?</p>
            <a href="https://unblockedgamesgplus.games/">Play More Unblocked Games G Plus</a>
        </div>
        
        <h3>Why Play 3D Snake Game?</h3>
        <p>
            Welcome to the modern version of the classic Snake game! Unlike the old 2D style, this 3D version gives you a cool neon look and smooth movements. It is specially designed for students and workers who want a quick break. 
        </p>
        <p>
            Our <strong>Unblocked GPlus</strong> version works everywhere, even on school or office networks. Just use your arrow keys to guide the glowing snake and eat the red apples. As you eat more, the snake grows and the speed increases. Challenge your friends and see who gets the highest score in this shiny 3D world!
        </p>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Game state
        let scene, camera, renderer, gameInterval;
        let snake = [];
        let direction = { x: 1, z: 0 };
        let nextDirection = { x: 1, z: 0 };
        let food = null;
        let gridSize = 20;
        let score = 0;
        let gameRunning = true;

        function init() {
            scene = new THREE.Scene();
            scene.background = new THREE.Color(0x050505);
            camera = new THREE.PerspectiveCamera(75, window.innerWidth / (window.innerHeight * 0.8), 0.1, 1000);
            camera.position.set(0, 15, 15);
            camera.lookAt(0, 0, 0);

            renderer = new THREE.WebGLRenderer({ antialias: true });
            renderer.setSize(window.innerWidth, window.innerHeight * 0.8);
            document.getElementById('container').appendChild(renderer.domElement);

            const light = new THREE.PointLight(0x667eea, 1, 100);
            light.position.set(0, 10, 0);
            scene.add(light);
            scene.add(new THREE.AmbientLight(0x404040));

            const grid = new THREE.GridHelper(gridSize, gridSize, 0x222222, 0x111111);
            scene.add(grid);

            initSnake();
            createFood();
            window.addEventListener('keydown', handleKeyPress);
            document.getElementById('restartBtn').addEventListener('click', restartGame);
            
            gameLoop();
            startGameTimer();
        }

        function initSnake() {
            snake.forEach(s => scene.remove(s));
            snake = [];
            for (let i = 0; i < 3; i++) {
                const seg = new THREE.Mesh(new THREE.BoxGeometry(0.9, 0.9, 0.9), new THREE.MeshStandardMaterial({ color: i===0?0x667eea:0x764ba2, emissive: i===0?0x667eea:0x764ba2 }));
                seg.position.set(-i, 0, 0);
                snake.push(seg);
                scene.add(seg);
            }
        }

        function createFood() {
            if (food) scene.remove(food);
            food = new THREE.Mesh(new THREE.SphereGeometry(0.4, 16, 16), new THREE.MeshStandardMaterial({ color: 0xff4444, emissive: 0xff0000 }));
            food.position.set(Math.floor(Math.random()*gridSize)-gridSize/2, 0, Math.floor(Math.random()*gridSize)-gridSize/2);
            scene.add(food);
        }

        function handleKeyPress(e) {
            const key = e.key.toLowerCase();
            if ((key === 'arrowup' || key === 'w') && direction.z !== 1) nextDirection = { x: 0, z: -1 };
            if ((key === 'arrowdown' || key === 's') && direction.z !== -1) nextDirection = { x: 0, z: 1 };
            if ((key === 'arrowleft' || key === 'a') && direction.x !== 1) nextDirection = { x: -1, z: 0 };
            if ((key === 'arrowright' || key === 'd') && direction.x !== -1) nextDirection = { x: 1, z: 0 };
        }

        function moveSnake() {
            if (!gameRunning) return;
            direction = nextDirection;
            const head = snake[0];
            const newPos = { x: head.position.x + direction.x, z: head.position.z + direction.z };

            if (Math.abs(newPos.x) > gridSize/2 || Math.abs(newPos.z) > gridSize/2 || snake.some((s,i) => i!==0 && s.position.x === newPos.x && s.position.z === newPos.z)) {
                gameRunning = false;
                document.getElementById('finalScore').textContent = score;
                document.getElementById('gameOverModal').classList.add('show');
                return;
            }

            const newHead = new THREE.Mesh(new THREE.BoxGeometry(0.9, 0.9, 0.9), new THREE.MeshStandardMaterial({ color: 0x667eea, emissive: 0x667eea }));
            newHead.position.set(newPos.x, 0, newPos.z);
            snake[0].material.color.set(0x764ba2);
            snake.unshift(newHead);
            scene.add(newHead);

            if (Math.round(newPos.x) === Math.round(food.position.x) && Math.round(newPos.z) === Math.round(food.position.z)) {
                score += 10;
                document.getElementById('score').textContent = score;
                createFood();
            } else {
                const tail = snake.pop();
                scene.remove(tail);
            }
        }

        function startGameTimer() {
            gameInterval = setInterval(moveSnake, 150);
        }

        function restartGame() {
            score = 0;
            document.getElementById('score').textContent = "0";
            document.getElementById('gameOverModal').classList.remove('show');
            direction = { x: 1, z: 0 };
            nextDirection = { x: 1, z: 0 };
            initSnake();
            createFood();
            gameRunning = true;
        }

        function gameLoop() {
            requestAnimationFrame(gameLoop);
            if(food) food.rotation.y += 0.05;
            renderer.render(scene, camera);
        }

        init();
    </script>
</body>
</html>
